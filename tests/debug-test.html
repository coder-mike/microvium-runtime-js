<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
  <div id="mocha"></div>
  <script type="module">
    import Runtime, { useWasmModule } from '../dist/index.mjs';

    const assert = p => { if (p) { throw new Error('Assertion failed'); } }
    assert.equal = (a, b) => { if (a !== b) { throw new Error(`Assertion failed: ${a} !== ${b}`); } }

    useWasmModule(WebAssembly.compileStreaming(fetch("../build/microvium1.wasm")));

    // 1. Paste the snapshot here:
    const snapshot = [0x7,0x1c,0x7,0x0,0xd8,0x0,0x45,0x85,0x3,0x0,0x0,0x0,0x1c,0x0,0x1c,0x0,0x20,0x0,0x20,0x0,0x26,0x0,0x28,0x0,0xc6,0x0,0xce,0x0,0x1,0x0,0x45,0x0,0xcd,0x0,0xc9,0x0,0x1,0x0,0x2d,0x0,0x0,0x0,0x5,0x40,0x70,0x75,0x73,0x68,0x0,0x0,0xd,0x50,0x4,0x31,0x30,0x30,0x88,0x1d,0x0,0x6b,0x12,0x6f,0x67,0x1,0x60,0x0,0x67,0x50,0x8,0x88,0xb1,0x0,0x88,0x19,0x0,0x6,0xa0,0x10,0x88,0x93,0x1,0xe0,0x70,0x4,0x67,0x67,0x1,0x60,0x88,0x19,0x0,0x7e,0x0,0xa0,0x88,0x19,0x0,0x6,0xa0,0x10,0x88,0xa3,0xf,0xe0,0x70,0x19,0x67,0x88,0x19,0x0,0x6,0xa0,0x10,0x88,0xa3,0xf,0xe0,0x70,0x21,0x67,0x67,0x10,0x10,0x7,0x6c,0x10,0xa2,0x67,0x67,0x76,0xca,0x13,0x1,0x12,0x13,0x78,0x3,0x12,0x12,0x12,0x6f,0x67,0x10,0x10,0x7,0x6c,0x10,0xa2,0x67,0x67,0x76,0xcb,0x11,0x10,0x12,0x6b,0x11,0x78,0x1,0xa0,0x67,0x10,0x10,0x7,0x6c,0x10,0xa2,0x67,0x67,0x76,0xc5,0x0,0x0,0x0,0xe,0x50,0x1,0x65,0x3,0x31,0xb1,0x32,0xb2,0x88,0xc1,0x0,0xb0,0x7d,0x6,0x60,0x5,0x50,0x2,0x21,0x22,0x6c,0x60,0x0,0x19,0x0,0x2,0x0,0x19,0x0,0x1,0x0,0x8,0xc0,0x5,0x0,0x5,0x0,0x2d,0x0,0x35,0x0];

    // 3. Paste the test code here:

    const imports = {};
    const vm = await Runtime.restore(snapshot, imports);
    vm.exports[1]();

    // 3. Run `npx serve` in the root project folder, open
    //    http://localhost:3000/tests/debug-test.html in Chrome and debug in
    //    devtools.
  </script>
</body>
</html>